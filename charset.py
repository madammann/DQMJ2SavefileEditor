
#TAKEN FROM https://github.com/ExcaliburZero/dqmj2_save_files on 28/02/2025
CHARACTER_TABLE = {
    0 : "",
    1: "0",2: "1",3: "2",4: "3",5: "4",6: "5",7: "6",8: "7",9: "8",10: "9",
    13: "A",14: "B",15: "C",16: "D",17: "E",18: "F",19: "G",20: "H",21: "I",
    22: "J",23: "K",24: "L",25: "M",26: "N",27: "O",28: "P",29: "Q",30: "R",
    31: "S",32: "T",33: "U",34: "V",35: "W",36: "X",37: "Y",38: "Z",39: "a",
    40: "b",41: "c",42: "d",43: "e",44: "f",45: "g",46: "h",47: "i",48: "j",
    49: "k",50: "l",51: "m",52: "n",53: "o",54: "p",55: "q",56: "r",57: "s",
    58: "t",59: "u",60: "v",61: "w",62: "x",63: "y",64: "z",65: "À",66: "Á",
    67: "Â",68: "Ä",69: "Ç",70: "È",71: "É",72: "Ê",73: "Ë",74: "Ì",75: "Í",
    76: "Î",77: "Ï",78: "Ñ",79: "Ò",80: "Ó",81: "Ô",82: "Ö",83: "Œ",84: "Ù",
    85: "Ú",86: "Û",87: "Ü",88: "à",89: "á",90: "â",91: "ä",92: "ç",93: "è",
    94: "é",95: "ê",96: "ë",97: "ì",98: "í",99: "î",100: "ï",101: "ñ",
    102: "ò",103: "ó",104: "ô",105: "ö",106: "œ",107: "ù",108: "ú",109: "û",
    110: "ü",111: "あ",112: "ぁ",113: "い",114: "ぃ",115: "う",116: "ぅ",
    117: "え",118: "ぇ",119: "お",120: "ぉ",121: "か",122: "き",123: "く",
    124: "け",125: "こ",126: "さ",127: "し",128: "す",129: "せ",130: "そ",
    131: "た",132: "ち",133: "つ",134: "っ",135: "て",136: "と",137: "な",
    138: "に",139: "ぬ",140: "ね",141: "の",142: "は",143: "ひ",144: "ふ",
    145: "へ",146: "ほ",147: "ま",148: "み",149: "む",150: "め",151: "も",
    152: "や",153: "ゃ",154: "ゆ",155: "ゅ",156: "よ",157: "ょ",158: "ら",
    159: "り",160: "る",161: "れ",162: "ろ",163: "わ",164: "を",165: "ん",
    166: "ア",167: "ァ",168: "イ",169: "ィ",170: "ウ",171: "ゥ",172: "エ",
    173: "ェ",174: "オ",175: "ォ",176: "カ",177: "キ",178: "ク",179: "ケ",
    180: "コ",181: "サ",182: "シ",183: "ス",184: "セ",185: "ソ",186: "タ",
    187: "チ",188: "ツ",189: "ッ",190: "テ",191: "ト",192: "ナ",193: "ニ",
    194: "ヌ",195: "ネ",196: "ノ",197: "ハ",198: "ヒ",199: "フ",200: "ヘ",
    201: "ホ",202: "マ",203: "ミ",204: "ム",205: "メ",206: "モ",207: "ヤ",
    208: "ャ",209: "ユ",210: "ュ",211: "ヨ",212: "ョ",213: "ラ",214: "リ",
    215: "ル",216: "レ",217: "ロ",218: "ワ",219: "ヲ",220: "ン",231: "が",
    232: "ぎ",233: "ぐ",234: "げ",235: "ご",236: "ざ",237: "じ",238: "ず",
    239: "ぜ",240: "ぞ",241: "だ",242: "ぢ",243: "づ",244: "で",245: "ど",
    246: "ば",247: "び",248: "ぶ",249: "べ",250: "ぼ",251: "ガ",252: "ギ",
    253: "グ",254: "ゲ",255: "ゴ",57345: "が",57346: "ぎ",57347: "ぐ",
    57348: "げ",57349: "ご",57350: "ざ",57351: "じ",57352: "ず",57353: "ぜ",
    57354: "ぞ",57355: "だ",57356: "ぢ",57357: "づ",57358: "で",57359: "ど",
    57360: "ば",57361: "び",57362: "ぶ",57363: "べ",57364: "ぼ",57365: "ガ",
    57366: "ギ",57367: "グ",57368: "ゲ",57369: "ゴ",57370: "ザ",57371: "ジ",
    57372: "ズ",57373: "ゼ",57374: "ゾ",57375: "ダ",57376: "ヂ",57377: "ヅ",
    57378: "デ",57379: "ド",57380: "バ",57381: "ビ",57382: "ブ",57383: "ベ",
    57384: "ボ",57385: "ぱ",57386: "ぴ",57387: "ぷ",57388: "ぺ",57389: "ぽ",
    57390: "パ",57391: "ピ",57392: "プ",57393: "ペ",57394: "ポ",57604: "β",
    57605: "¿",57606: "¡",57607: "!",57608: "?",57609: "_",57610: "⇐",
    57611: "⇑",57612: "⇒",57613: "⇓",57614: "☆",57615: "★",57616: "※",
    57617: "△",57618: "▲",57619: "▽",57620: "▼",57621: "□",57622: "■",
    57623: "○",57624: "●",57625: "ﾟ",57626: "+",57627: "+",57628: "=",
    57629: "/",57630: "/",57633: "Ⅰ",57634: "Ⅱ",57635: "Ⅲ",57636: "Ⅴ",
    57637: "Ⅹ",57638: ";",57639: "ﾟ",57640: "-",57641: "ﾞ",57642: "ﾞ",
    57643: "ﾞ",57644: "ﾞ",57645: "'",57646: "'",57647: "｀",57648: "'",
    57649: "'",57650: "～",57651: "♪",57652: "＊",57653: "・",57654: "＊",
    57655: "(",57656: ")",57657: "\u001f‟",  # .ToCharArray()[0],
    57658: "%",  # .ToCharArray()[0],
    57659: ".",57660: "&",57661: "×",57662: ":",57663: "„",  # .ToCharArray()[0],
    57664: "!",57665: "》",57666: "《",57667: "－",57668: "，",57669: "，",
    57670: "?",57671: "。",57672: "「",57673: "」",57674: "『",57675: "』",
    57676: "”",57677: "‟",  # .ToCharArray()[0],
    57678: "?",57679: "!",57680: "、",57681: "・",57682: "ー",57691: "…",
    58369: "遺",58370: "員",58371: "雨",58372: "炎",58373: "王",58374: "下",
    58375: "果",58376: "火",58377: "我",58378: "会",58379: "回",58380: "海",
    58381: "界",58382: "崖",58383: "換",58384: "間",58385: "関",58386: "岸",
    58387: "器",58388: "機",58389: "気",58390: "技",58391: "客",58392: "休",
    58393: "級",58394: "巨",58395: "強",58396: "金",58397: "具",58398: "空",
    58399: "系",58400: "経",58401: "撃",58402: "剣",58403: "験",58404: "原",
    58405: "減",58406: "言",58407: "古",58408: "後",58409: "交",58410: "光",
    58411: "功",58412: "効",58496: "入",58497: "年",58498: "敗",58499: "配",
    58500: "買",58501: "売",58502: "箱"
    }

CHARACTER_TABLE.update({k : "" for k in range(8**4) if not k in CHARACTER_TABLE.keys()})

def int_to_char(value: int) -> str:
    return CHARACTER_TABLE[value]

def char_to_int(char : str) -> int:
    return {v : k  for k, v in CHARACTER_TABLE.items()}[char]

def byte_to_char(byte_ : bytes | bytearray | str) -> str:
    v = int.from_bytes(byte_, byteorder='little')
    return CHARACTER_TABLE[v]

def char_to_byte(char : str) -> bytes:
    v = char_to_int(char)
    return int(v).to_bytes(4,byteorder='little')

def sequence_to_bytes(seq : str):
    return bytes([char_to_int(char) for char in seq])

def bytes_to_sequence(bytes_ : bytes | bytearray):
    return "".join(int_to_char(b) for b in bytes_)